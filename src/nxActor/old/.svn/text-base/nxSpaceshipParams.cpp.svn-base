#include "nxSpaceshipParams.hpp"


nxSpaceshipParams::nxSpaceshipParams()
	:
		nxActorParams()
{
}

nxSpaceshipParams::~nxSpaceshipParams()
{
}

shared_ptr<nxIActor> VCreate(nxBaseGameLogic *logic)
{
	//	Mat4x4 mat;
//	mat.BuildTranslation(m_Pos);
//	shared_ptr<IActor> pSphere(new BaseActor(mat, AT_Sphere, shared_ptr<SphereParams>(GCC_NEW SphereParams(*this))));
//	logic->VAddActor(pSphere, this);
//	logic->VGetGamePhysics()->VAddSphere(m_Radius, &*pSphere, SpecificGravity(PhysDens_Pine), PhysMat_Bouncy);
//	logic->VGetGamePhysics()->VApplyForce(m_NormalDir, m_Force, *( m_Id ));
//	return pSphere;

//	jfMatrix4 mat;
//	mat.BuildTranslatrion(m_Pos);
//	shared_ptr<nxIActor> pActor(NX_NEW nxBaseActor(mat, NX_ACTOR_SHIP, shared_ptr<nxSpaceshipParams>(NX_NEW nxSpaceshipParams(*this))));;

	m_Rot = 0.0f; //XXX:Magic Number, should be random?
	m_Radius = 3.0f; //XXX : Magic number

	shared_ptr<nxIActor> pActor(NX_NEW nxBaseActor(rot, NX_ACTOR_SHIP, shared_ptr<nxSpaceshipParams>(NX_NEW nxSpaceshipParams(*this))));;
	logic->VAddActor(pActor, this);
	//TODO:Add physics
	logic->VGetGamePhysics()->VAddSphere(m_Radius, m_Pos, m_Rot);
	
	return pActor;
}

bool VInit(std::istrstream &in)
{
	nxActorParams::VInit(in);
}

void VSerialize(std::ostrstream &out) const
{
	nxActorParams::VSerialize(out);
}

